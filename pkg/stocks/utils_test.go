package stocks

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

var testData = `{
    "Meta Data": {
        "1. Information": "Daily Prices (open, high, low, close) and Volumes",
        "2. Symbol": "FORG",
        "3. Last Refreshed": "2022-04-29",
        "4. Output Size": "Compact",
        "5. Time Zone": "US/Eastern"
    },
    "Time Series (Daily)": {
        "2022-04-29": {
            "1. open": "21.7600",
            "2. high": "22.3550",
            "3. low": "20.3300",
            "4. close": "20.4300",
            "5. volume": "235611"
        },
        "2022-04-28": {
            "1. open": "20.8800",
            "2. high": "22.1200",
            "3. low": "20.3400",
            "4. close": "22.0100",
            "5. volume": "310144"
        },
        "2022-04-27": {
            "1. open": "21.2700",
            "2. high": "22.1405",
            "3. low": "20.3400",
            "4. close": "20.5400",
            "5. volume": "405307"
        },
        "2022-04-26": {
            "1. open": "21.4100",
            "2. high": "21.6150",
            "3. low": "20.6300",
            "4. close": "21.2700",
            "5. volume": "193511"
        },
        "2022-04-25": {
            "1. open": "19.8400",
            "2. high": "22.0600",
            "3. low": "19.8400",
            "4. close": "21.5600",
            "5. volume": "315116"
        },
        "2022-04-22": {
            "1. open": "20.2300",
            "2. high": "20.8200",
            "3. low": "19.7500",
            "4. close": "19.9600",
            "5. volume": "398219"
        },
        "2022-04-21": {
            "1. open": "22.0600",
            "2. high": "22.0600",
            "3. low": "20.2100",
            "4. close": "20.3500",
            "5. volume": "259279"
        },
        "2022-04-20": {
            "1. open": "23.0500",
            "2. high": "23.0500",
            "3. low": "21.6500",
            "4. close": "21.8200",
            "5. volume": "351254"
        },
        "2022-04-19": {
            "1. open": "21.3200",
            "2. high": "23.0000",
            "3. low": "21.0200",
            "4. close": "22.8300",
            "5. volume": "451820"
        },
        "2022-04-18": {
            "1. open": "22.0200",
            "2. high": "22.0200",
            "3. low": "21.1827",
            "4. close": "21.3000",
            "5. volume": "295003"
        },
        "2022-04-14": {
            "1. open": "22.7100",
            "2. high": "22.9300",
            "3. low": "21.9300",
            "4. close": "22.2700",
            "5. volume": "529529"
        },
        "2022-04-13": {
            "1. open": "21.8100",
            "2. high": "23.3100",
            "3. low": "21.1800",
            "4. close": "22.7000",
            "5. volume": "517671"
        },
        "2022-04-12": {
            "1. open": "22.2300",
            "2. high": "22.9499",
            "3. low": "21.3000",
            "4. close": "21.8200",
            "5. volume": "300984"
        },
        "2022-04-11": {
            "1. open": "20.1300",
            "2. high": "22.4900",
            "3. low": "20.1300",
            "4. close": "21.9900",
            "5. volume": "598114"
        },
        "2022-04-08": {
            "1. open": "20.3700",
            "2. high": "20.9850",
            "3. low": "19.7000",
            "4. close": "20.3100",
            "5. volume": "348945"
        },
        "2022-04-07": {
            "1. open": "20.6100",
            "2. high": "21.3600",
            "3. low": "20.1600",
            "4. close": "20.6000",
            "5. volume": "225305"
        },
        "2022-04-06": {
            "1. open": "21.2800",
            "2. high": "21.4800",
            "3. low": "20.1900",
            "4. close": "20.5600",
            "5. volume": "320891"
        },
        "2022-04-05": {
            "1. open": "22.0700",
            "2. high": "22.0700",
            "3. low": "20.6800",
            "4. close": "21.4300",
            "5. volume": "355343"
        },
        "2022-04-04": {
            "1. open": "21.4000",
            "2. high": "22.9800",
            "3. low": "21.3900",
            "4. close": "22.5200",
            "5. volume": "317135"
        },
        "2022-04-01": {
            "1. open": "22.0500",
            "2. high": "22.5000",
            "3. low": "21.0000",
            "4. close": "21.1900",
            "5. volume": "350207"
        },
        "2022-03-31": {
            "1. open": "21.7400",
            "2. high": "22.7600",
            "3. low": "21.4300",
            "4. close": "21.9200",
            "5. volume": "368868"
        },
        "2022-03-30": {
            "1. open": "21.4500",
            "2. high": "22.4500",
            "3. low": "21.0100",
            "4. close": "21.9800",
            "5. volume": "378370"
        },
        "2022-03-29": {
            "1. open": "20.6100",
            "2. high": "21.7500",
            "3. low": "20.4200",
            "4. close": "21.4300",
            "5. volume": "258861"
        },
        "2022-03-28": {
            "1. open": "21.0200",
            "2. high": "21.7400",
            "3. low": "19.6500",
            "4. close": "20.5700",
            "5. volume": "483462"
        },
        "2022-03-25": {
            "1. open": "20.7100",
            "2. high": "21.3000",
            "3. low": "20.1400",
            "4. close": "21.2000",
            "5. volume": "621843"
        },
        "2022-03-24": {
            "1. open": "21.0600",
            "2. high": "21.2200",
            "3. low": "20.0800",
            "4. close": "20.7500",
            "5. volume": "594456"
        },
        "2022-03-23": {
            "1. open": "20.1900",
            "2. high": "21.2300",
            "3. low": "19.9900",
            "4. close": "20.9400",
            "5. volume": "897584"
        },
        "2022-03-22": {
            "1. open": "19.6200",
            "2. high": "21.0000",
            "3. low": "19.6200",
            "4. close": "20.3400",
            "5. volume": "1176955"
        },
        "2022-03-21": {
            "1. open": "18.4900",
            "2. high": "20.0400",
            "3. low": "18.0100",
            "4. close": "19.7000",
            "5. volume": "646709"
        },
        "2022-03-18": {
            "1. open": "19.1000",
            "2. high": "19.5500",
            "3. low": "17.3600",
            "4. close": "18.2800",
            "5. volume": "2601692"
        },
        "2022-03-17": {
            "1. open": "18.0800",
            "2. high": "20.1800",
            "3. low": "18.0000",
            "4. close": "19.1000",
            "5. volume": "1327868"
        },
        "2022-03-16": {
            "1. open": "16.4900",
            "2. high": "18.6700",
            "3. low": "16.2200",
            "4. close": "17.9900",
            "5. volume": "742870"
        },
        "2022-03-15": {
            "1. open": "15.7900",
            "2. high": "16.7900",
            "3. low": "15.2200",
            "4. close": "16.3500",
            "5. volume": "627198"
        },
        "2022-03-14": {
            "1. open": "15.9700",
            "2. high": "16.2200",
            "3. low": "15.2900",
            "4. close": "16.0000",
            "5. volume": "860956"
        },
        "2022-03-11": {
            "1. open": "17.0500",
            "2. high": "17.6400",
            "3. low": "16.0900",
            "4. close": "16.1900",
            "5. volume": "632387"
        },
        "2022-03-10": {
            "1. open": "17.3700",
            "2. high": "17.9900",
            "3. low": "16.9638",
            "4. close": "17.0200",
            "5. volume": "918765"
        },
        "2022-03-09": {
            "1. open": "17.6800",
            "2. high": "18.3400",
            "3. low": "17.0500",
            "4. close": "18.0300",
            "5. volume": "1329273"
        },
        "2022-03-08": {
            "1. open": "16.5400",
            "2. high": "19.7600",
            "3. low": "16.3500",
            "4. close": "17.7000",
            "5. volume": "2411411"
        },
        "2022-03-07": {
            "1. open": "16.4900",
            "2. high": "17.4600",
            "3. low": "16.2200",
            "4. close": "16.7800",
            "5. volume": "961788"
        },
        "2022-03-04": {
            "1. open": "15.9000",
            "2. high": "17.3600",
            "3. low": "15.4600",
            "4. close": "16.9800",
            "5. volume": "990253"
        },
        "2022-03-03": {
            "1. open": "16.0800",
            "2. high": "16.6250",
            "3. low": "15.0900",
            "4. close": "16.0100",
            "5. volume": "1040634"
        },
        "2022-03-02": {
            "1. open": "15.0700",
            "2. high": "16.2900",
            "3. low": "14.2500",
            "4. close": "16.0100",
            "5. volume": "1799530"
        },
        "2022-03-01": {
            "1. open": "15.2200",
            "2. high": "17.6900",
            "3. low": "15.0000",
            "4. close": "16.6200",
            "5. volume": "2159986"
        },
        "2022-02-28": {
            "1. open": "13.8900",
            "2. high": "15.1100",
            "3. low": "13.2500",
            "4. close": "14.8100",
            "5. volume": "762085"
        },
        "2022-02-25": {
            "1. open": "13.4800",
            "2. high": "14.2400",
            "3. low": "12.8700",
            "4. close": "13.9000",
            "5. volume": "545776"
        },
        "2022-02-24": {
            "1. open": "12.1300",
            "2. high": "13.8700",
            "3. low": "11.9377",
            "4. close": "13.4000",
            "5. volume": "395363"
        },
        "2022-02-23": {
            "1. open": "13.0200",
            "2. high": "13.2900",
            "3. low": "12.0500",
            "4. close": "12.3400",
            "5. volume": "382892"
        },
        "2022-02-22": {
            "1. open": "13.0500",
            "2. high": "13.4700",
            "3. low": "12.7050",
            "4. close": "13.1200",
            "5. volume": "260893"
        },
        "2022-02-18": {
            "1. open": "14.7300",
            "2. high": "14.8500",
            "3. low": "13.1000",
            "4. close": "13.2500",
            "5. volume": "575967"
        },
        "2022-02-17": {
            "1. open": "15.0600",
            "2. high": "15.1650",
            "3. low": "14.3700",
            "4. close": "14.8400",
            "5. volume": "225336"
        },
        "2022-02-16": {
            "1. open": "14.8400",
            "2. high": "15.4689",
            "3. low": "14.5600",
            "4. close": "15.2200",
            "5. volume": "183237"
        },
        "2022-02-15": {
            "1. open": "14.7200",
            "2. high": "15.0100",
            "3. low": "14.1800",
            "4. close": "14.8900",
            "5. volume": "228861"
        },
        "2022-02-14": {
            "1. open": "14.5200",
            "2. high": "14.5200",
            "3. low": "13.7500",
            "4. close": "14.3400",
            "5. volume": "256065"
        },
        "2022-02-11": {
            "1. open": "15.1600",
            "2. high": "15.8000",
            "3. low": "14.2400",
            "4. close": "14.4000",
            "5. volume": "279015"
        },
        "2022-02-10": {
            "1. open": "15.6500",
            "2. high": "16.4400",
            "3. low": "15.1100",
            "4. close": "15.4700",
            "5. volume": "376265"
        },
        "2022-02-09": {
            "1. open": "15.6000",
            "2. high": "16.6000",
            "3. low": "15.4800",
            "4. close": "16.2200",
            "5. volume": "157359"
        },
        "2022-02-08": {
            "1. open": "14.6700",
            "2. high": "15.7300",
            "3. low": "14.6700",
            "4. close": "15.4800",
            "5. volume": "174006"
        },
        "2022-02-07": {
            "1. open": "14.4100",
            "2. high": "15.4750",
            "3. low": "14.3700",
            "4. close": "14.9100",
            "5. volume": "157379"
        },
        "2022-02-04": {
            "1. open": "13.8900",
            "2. high": "14.8100",
            "3. low": "13.7600",
            "4. close": "14.4100",
            "5. volume": "238296"
        },
        "2022-02-03": {
            "1. open": "14.4100",
            "2. high": "14.9100",
            "3. low": "13.7400",
            "4. close": "14.0400",
            "5. volume": "186836"
        },
        "2022-02-02": {
            "1. open": "15.5100",
            "2. high": "15.8600",
            "3. low": "14.9400",
            "4. close": "14.9900",
            "5. volume": "190565"
        },
        "2022-02-01": {
            "1. open": "14.3400",
            "2. high": "16.1950",
            "3. low": "14.3336",
            "4. close": "15.5600",
            "5. volume": "340064"
        },
        "2022-01-31": {
            "1. open": "13.7300",
            "2. high": "14.9100",
            "3. low": "13.7000",
            "4. close": "14.2400",
            "5. volume": "551190"
        },
        "2022-01-28": {
            "1. open": "13.9900",
            "2. high": "14.3800",
            "3. low": "12.8200",
            "4. close": "13.6300",
            "5. volume": "487637"
        },
        "2022-01-27": {
            "1. open": "14.7600",
            "2. high": "14.7600",
            "3. low": "13.5501",
            "4. close": "13.9300",
            "5. volume": "511979"
        },
        "2022-01-26": {
            "1. open": "15.5200",
            "2. high": "16.1300",
            "3. low": "14.3100",
            "4. close": "14.4600",
            "5. volume": "509501"
        },
        "2022-01-25": {
            "1. open": "14.9000",
            "2. high": "15.4400",
            "3. low": "14.3400",
            "4. close": "15.0000",
            "5. volume": "418710"
        },
        "2022-01-24": {
            "1. open": "14.5000",
            "2. high": "15.3000",
            "3. low": "13.2600",
            "4. close": "15.1400",
            "5. volume": "322274"
        },
        "2022-01-21": {
            "1. open": "15.4800",
            "2. high": "15.6700",
            "3. low": "14.8400",
            "4. close": "15.0100",
            "5. volume": "402026"
        },
        "2022-01-20": {
            "1. open": "15.0400",
            "2. high": "15.7800",
            "3. low": "14.8201",
            "4. close": "15.4500",
            "5. volume": "737426"
        },
        "2022-01-19": {
            "1. open": "15.2500",
            "2. high": "15.4100",
            "3. low": "14.2800",
            "4. close": "14.7500",
            "5. volume": "476645"
        },
        "2022-01-18": {
            "1. open": "15.8300",
            "2. high": "16.5150",
            "3. low": "15.0900",
            "4. close": "15.1400",
            "5. volume": "322128"
        },
        "2022-01-14": {
            "1. open": "16.9900",
            "2. high": "17.4000",
            "3. low": "15.8700",
            "4. close": "16.2500",
            "5. volume": "332159"
        },
        "2022-01-13": {
            "1. open": "18.0600",
            "2. high": "18.0900",
            "3. low": "16.8000",
            "4. close": "17.1700",
            "5. volume": "275643"
        },
        "2022-01-12": {
            "1. open": "19.3400",
            "2. high": "19.4494",
            "3. low": "17.8000",
            "4. close": "17.8400",
            "5. volume": "266758"
        },
        "2022-01-11": {
            "1. open": "19.0800",
            "2. high": "19.2700",
            "3. low": "18.5268",
            "4. close": "18.9600",
            "5. volume": "428366"
        },
        "2022-01-10": {
            "1. open": "19.1600",
            "2. high": "19.1600",
            "3. low": "17.6285",
            "4. close": "19.0000",
            "5. volume": "298942"
        },
        "2022-01-07": {
            "1. open": "19.5900",
            "2. high": "20.4500",
            "3. low": "19.2400",
            "4. close": "19.2900",
            "5. volume": "212684"
        },
        "2022-01-06": {
            "1. open": "20.7100",
            "2. high": "21.9700",
            "3. low": "19.2800",
            "4. close": "19.5900",
            "5. volume": "537407"
        },
        "2022-01-05": {
            "1. open": "22.3100",
            "2. high": "22.8000",
            "3. low": "19.9250",
            "4. close": "20.7900",
            "5. volume": "807966"
        },
        "2022-01-04": {
            "1. open": "24.6300",
            "2. high": "24.9000",
            "3. low": "21.5600",
            "4. close": "22.8400",
            "5. volume": "929947"
        },
        "2022-01-03": {
            "1. open": "26.5000",
            "2. high": "27.6100",
            "3. low": "24.4500",
            "4. close": "24.9200",
            "5. volume": "366433"
        },
        "2021-12-31": {
            "1. open": "27.0000",
            "2. high": "28.3300",
            "3. low": "26.5100",
            "4. close": "26.6900",
            "5. volume": "203102"
        },
        "2021-12-30": {
            "1. open": "26.9600",
            "2. high": "27.6400",
            "3. low": "26.3600",
            "4. close": "27.0900",
            "5. volume": "178799"
        },
        "2021-12-29": {
            "1. open": "27.6900",
            "2. high": "27.9000",
            "3. low": "26.5147",
            "4. close": "27.2400",
            "5. volume": "288100"
        },
        "2021-12-28": {
            "1. open": "28.0800",
            "2. high": "28.1600",
            "3. low": "27.6700",
            "4. close": "28.0600",
            "5. volume": "258395"
        },
        "2021-12-27": {
            "1. open": "27.0500",
            "2. high": "28.0000",
            "3. low": "26.6500",
            "4. close": "27.9600",
            "5. volume": "281676"
        },
        "2021-12-23": {
            "1. open": "25.8900",
            "2. high": "27.1100",
            "3. low": "25.1300",
            "4. close": "27.0600",
            "5. volume": "278805"
        },
        "2021-12-22": {
            "1. open": "22.5400",
            "2. high": "26.0000",
            "3. low": "21.9700",
            "4. close": "25.7500",
            "5. volume": "1021603"
        },
        "2021-12-21": {
            "1. open": "22.3300",
            "2. high": "23.4700",
            "3. low": "21.5500",
            "4. close": "22.5800",
            "5. volume": "644947"
        },
        "2021-12-20": {
            "1. open": "24.1200",
            "2. high": "24.5500",
            "3. low": "21.0100",
            "4. close": "21.7100",
            "5. volume": "1096575"
        },
        "2021-12-17": {
            "1. open": "21.1800",
            "2. high": "25.6100",
            "3. low": "20.5500",
            "4. close": "25.2800",
            "5. volume": "4783437"
        },
        "2021-12-16": {
            "1. open": "23.5300",
            "2. high": "24.6000",
            "3. low": "21.0200",
            "4. close": "21.4600",
            "5. volume": "801204"
        },
        "2021-12-15": {
            "1. open": "24.9700",
            "2. high": "25.8150",
            "3. low": "21.8900",
            "4. close": "23.5300",
            "5. volume": "816508"
        },
        "2021-12-14": {
            "1. open": "24.6400",
            "2. high": "25.9950",
            "3. low": "23.8300",
            "4. close": "24.7600",
            "5. volume": "389490"
        },
        "2021-12-13": {
            "1. open": "25.6400",
            "2. high": "26.9850",
            "3. low": "24.5300",
            "4. close": "25.3800",
            "5. volume": "331744"
        },
        "2021-12-10": {
            "1. open": "25.3200",
            "2. high": "26.2900",
            "3. low": "24.6500",
            "4. close": "25.8300",
            "5. volume": "463290"
        },
        "2021-12-09": {
            "1. open": "26.3600",
            "2. high": "27.7800",
            "3. low": "24.7550",
            "4. close": "25.1100",
            "5. volume": "456316"
        },
        "2021-12-08": {
            "1. open": "25.8600",
            "2. high": "26.9500",
            "3. low": "25.2000",
            "4. close": "26.7400",
            "5. volume": "316637"
        },
        "2021-12-07": {
            "1. open": "25.7900",
            "2. high": "26.2850",
            "3. low": "25.6100",
            "4. close": "25.9300",
            "5. volume": "225602"
        }
    }
}`

func TestDecodeResponse(t *testing.T) {
	stkData, err := decodeResponse([]byte(testData))
	assert.Nil(t, err)
	assert.NotNil(t, stkData)
}
